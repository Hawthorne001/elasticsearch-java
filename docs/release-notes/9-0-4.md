---
navigation_title: "9.0.4"
---
# Elasticsearch Java Client 9.0.4 [elasticsearch-java-client-904]

Discover what changed in the 9.0.4 version of the Java client. 

## Breaking changes [elasticsearch-java-client-904-breaking-changes]

There are no breaking changes in this version of the client.

## Features and enhancements [elasticsearch-java-client-904-features-enhancements]

### Added callbacks to Rest5Client builder
Rest5ClientBuilder now has the same level of in-depth configuration the Legacy RestClientBuilder has, allowing you to customize the underlying Apache HttpClient through callback functions. For example, this is how to configure the IOReactor's thread count:
```java
Rest5ClientBuilder builder = Rest5Client
    .builder(new HttpHost("localhost", 9200))
    .setHttpClientConfigCallback(c -> c
        .setIOReactorConfig(IOReactorConfig.custom()
            .setIoThreadCount(1).build()
        )
    );
```
Here's how to customize the response timeout:
```java
Rest5ClientBuilder builder = Rest5Client
    .builder(new HttpHost("localhost", 9200))
    .setRequestConfigCallback(r -> r
        .setConnectTimeout(Timeout.of(5000, TimeUnit.MILLISECONDS))
        .setResponseTimeout(Timeout.of(30000, TimeUnit.MILLISECONDS))
        .build()
    );
```
::::

## Deprecations [elasticsearch-java-client-904-deprecations]

Nothing was deprecated in this version of the client. 
